name: Linux build

on: push

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout
              uses: actions/checkout@v3
            
            - name: CMake version
              run: cmake --version

            - name: Make version
              run: make --version

            - name: Create build directory
              run: mkdir build

            - name: Create Makefile with CMake
              run: cmake -B ./build

            - name: Build library with Makefile autogenerated
              run: make
              working-directory: ./build